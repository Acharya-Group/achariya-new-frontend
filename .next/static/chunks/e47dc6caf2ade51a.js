(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77980,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(63816),s=e.i(54616),a=e.i(66027),l=e.i(12598);let i=()=>{let e=(0,l.useQueryClient)(),i=(0,a.useQuery)({queryKey:["rkclEnquiries"],queryFn:async()=>{let{data:e}=await t.default.get("/RkclEnquire");return Array.isArray(e.data)?e.data:[]},initialData:[]}),r=(0,s.useMutation)({mutationFn:async e=>{let{data:s}=await t.default.post("/RkclEnquire",e);return s.data},onSuccess:t=>{e.setQueryData(["rkclEnquiries"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,t]})}});return{allEnquiries:i,createEnquiry:r,updateEnquiry:(0,s.useMutation)({mutationFn:async e=>{let{data:s}=await t.default.put("/RkclEnquire/".concat(e._id),e);return s.data},onSuccess:t=>{e.setQueryData(["rkclEnquiries"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>e._id===t._id?t:e)})}}),deleteEnquiry:(0,s.useMutation)({mutationFn:async e=>(await t.default.delete("/RkclEnquire/".concat(e)),e),onSuccess:t=>{e.setQueryData(["rkclEnquiries"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>e._id!==t)})}})}}},34367,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),s=e.i(71645),a=e.i(38298),l=e.i(30955),i=e.i(5766),r=e.i(77980);let n=()=>{let{allEnquiries:e,deleteEnquiry:n,updateEnquiry:c}=(0,r.default)(),[d,u]=(0,s.useState)(!1),[o,x]=(0,s.useState)(1);if((0,s.useEffect)(()=>{u(!0)},[]),!d)return null;let p=e.data||[],h=Math.ceil(p.length/5),y=5*o,m=y-5,j=p.slice(m,y);return(0,t.jsx)(a.default,{children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"RKCL Enquiries"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-[1300px] w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-secondary text-white",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"#"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Name"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Email"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Number"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"District"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Tehsil"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"City"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Pin Code"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Course"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map((e,s)=>{var a;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-2",children:m+s+1}),(0,t.jsx)("td",{className:"px-4 py-2",children:null==(a=e.createdAt)?void 0:a.split("T")[0]}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.name}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.email}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.number}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.district}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.tehsil}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.city}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.pinCode}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.course}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsxs)("select",{value:e.status||"pending",onChange:t=>{var s,a;return s=e._id,a=t.target.value,void c.mutate({_id:s,status:a},{onSuccess:()=>i.default.success("Status updated successfully!"),onError:()=>i.default.error("Failed to update status")})},className:"border px-2 py-1 rounded focus:outline-none focus:ring-2 focus:ring-[#7a0706]",children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"processing",children:"Processing"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"cancelled",children:"Cancelled"})]})}),(0,t.jsxs)("td",{className:"px-4 py-2",children:[" ",(0,t.jsx)("button",{onClick:()=>{var t;return t=e._id,void(confirm("Are you sure you want to delete this enquiry?")&&n.mutate(t,{onSuccess:()=>i.default.success("Enquiry deleted successfully!"),onError:()=>i.default.error("Failed to delete enquiry")}))},className:"p-2 cursor-pointer bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50",children:(0,t.jsx)(l.FaTrash,{})})]})]},e._id)})})]})}),(0,t.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-4",children:[(0,t.jsx)("button",{disabled:1===o,onClick:()=>x(e=>e-1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Prev"}),(0,t.jsxs)("span",{children:["Page ",o," of ",h]}),(0,t.jsx)("button",{disabled:o===h||0===h,onClick:()=>x(e=>e+1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Next"})]})]})})}}]);