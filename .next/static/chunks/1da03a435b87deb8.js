(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,e=>{"use strict";function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}e.s(["_",()=>t])},10160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},94579,e=>{"use strict";e.s(["useBlogs",()=>r]);var t=e.i(66027),s=e.i(54616),a=e.i(12598),l=e.i(63816);let r=()=>{let e=(0,a.useQueryClient)(),r=(0,t.useQuery)({queryKey:["blogs"],queryFn:async()=>{let{data:e}=await l.default.get("/blogs");return e.blogs}}),i=(0,s.useMutation)({mutationFn:async e=>{let{data:t}=await l.default.post("/blogs",e,{headers:{"Content-Type":"multipart/form-data"}});return t},onSuccess:()=>{e.invalidateQueries({queryKey:["blogs"]})}});return{allBlogs:r,createBlog:i,updateBlog:(0,s.useMutation)({mutationFn:async e=>{let{id:t,formData:s}=e,{data:a}=await l.default.put("/blogs/".concat(t),s,{headers:{"Content-Type":"multipart/form-data"}});return a},onSuccess:()=>{e.invalidateQueries({queryKey:["blogs"]})}}),deleteBlog:(0,s.useMutation)({mutationFn:async e=>{await l.default.delete("/blogs/".concat(e))},onSuccess:()=>{e.invalidateQueries({queryKey:["blogs"]})}})}}},75690,e=>{"use strict";e.s(["default",()=>p]);var t=e.i(43476),s=e.i(71645),a=e.i(38298),l=e.i(80790),r=e.i(55749),i=e.i(45700),n=e.i(30955),o=e.i(22016),d=e.i(94579),c=e.i(5766),u=e.i(57688);let p=()=>{let[e,p]=(0,s.useState)(!1),[h,y]=(0,s.useState)(1),{allBlogs:x,deleteBlog:b}=(0,d.useBlogs)(),[g,m]=(0,s.useState)(null);if((0,s.useEffect)(()=>{p(!0)},[]),!e)return null;let f=Array.isArray(x.data)?x.data:[],j=5*h,v=j-5,N=f.slice(v,j),w=Math.ceil(f.length/5);return(0,t.jsx)(a.default,{children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"All Blogs"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsx)("button",{onClick:()=>{var e;(null==(e=navigator)?void 0:e.clipboard)&&(navigator.clipboard.writeText(JSON.stringify(f)),c.default.success("Copied to clipboard!"))},className:"px-4 cursor-pointer py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:"Copy"}),(0,t.jsx)(l.CSVLink,{data:f,filename:"blogs.csv",className:"px-4 cursor-pointer py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:"CSV"}),(0,t.jsx)("button",{onClick:()=>{let e=new r.default;e.text("Blogs",14,16);let t=f.map(e=>[e.title,e.shortDescription,e.description]);(0,i.default)(e,{head:[["Title","Short Description","Description"]],body:t,startY:20}),e.save("blogs.pdf")},className:"px-4 py-2 bg-gray-200 cursor-pointer rounded hover:bg-gray-300 transition",children:"PDF"}),(0,t.jsx)("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-gray-200 cursor-pointer rounded hover:bg-gray-300 transition",children:"Print"})]}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"min-w-[600px] w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-secondary text-white",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Sr No."}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Title"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Short Description"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Image"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-2",children:v+s+1}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.title}),(0,t.jsx)("td",{className:"px-4 py-2 max-w-[200px] truncate",children:e.shortDescription}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)(u.default,{height:64,width:64,src:e.image,alt:e.title,className:"w-16 h-16 object-cover rounded"})}),(0,t.jsxs)("td",{className:"px-4 py-2 flex gap-2",children:[(0,t.jsx)(o.default,{href:"/admin/update-blog/".concat(e._id),children:(0,t.jsx)("button",{className:"p-2 bg-blue-500 cursor-pointer text-white rounded hover:bg-blue-600",children:(0,t.jsx)(n.FaEdit,{})})}),(0,t.jsx)("button",{onClick:()=>(e=>{confirm("Are you sure you want to delete this blog?")&&(m(e),b.mutate(e,{onSuccess:()=>{c.default.success("Blog deleted successfully!"),m(null)},onError:e=>{c.default.error((null==e?void 0:e.message)||"Failed to delete blog!"),m(null)}}))})(e._id),disabled:g===e._id,className:"p-2 text-white rounded ".concat(g===e._id?"bg-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600"),children:(0,t.jsx)(n.FaTrash,{})})]})]},e._id))})]}),x.isLoading&&(0,t.jsx)("p",{className:"mb-4 text-gray-500",children:"Loading blogs..."}),x.isError&&(0,t.jsxs)("p",{className:"mb-4 text-red-500",children:["Error: ",x.error.message]})]}),(0,t.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-4",children:[(0,t.jsx)("button",{disabled:1===h,onClick:()=>y(e=>e-1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Prev"}),(0,t.jsxs)("span",{children:["Page ",h," of ",w]}),(0,t.jsx)("button",{disabled:h===w,onClick:()=>y(e=>e+1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Next"})]})]})})}},48503,e=>{e.v(t=>Promise.all(["static/chunks/973cd2e0d44fcf4d.js"].map(t=>e.l(t))).then(()=>t(15833)))},70653,e=>{e.v(t=>Promise.all(["static/chunks/c1eb2087dd9024e6.js"].map(t=>e.l(t))).then(()=>t(24154)))},95111,e=>{e.v(t=>Promise.all(["static/chunks/5f9918d1ea162d49.js"].map(t=>e.l(t))).then(()=>t(38201)))}]);