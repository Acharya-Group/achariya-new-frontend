(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18552,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(63816),a=e.i(66027),r=e.i(54616),n=e.i(12598);let s=()=>{let e=(0,n.useQueryClient)(),s=(0,a.useQuery)({queryKey:["stationery"],queryFn:async()=>{let{data:e}=await t.default.get("/StationeryRate");return Array.isArray(e.data)?e.data:[]},initialData:[]}),i=(0,r.useMutation)({mutationFn:async e=>{let{data:a}=await t.default.post("/StationeryRate",e);return a.data},onSuccess:t=>{e.setQueryData(["stationery"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,t]})}});return{allStationery:s,createStationery:i,updateStationery:(0,r.useMutation)({mutationFn:async e=>{let{data:a}=await t.default.put("/StationeryRate/".concat(e._id),e);return a.data},onSuccess:t=>{e.setQueryData(["stationery"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>e._id===t._id?t:e)})}}),deleteStationery:(0,r.useMutation)({mutationFn:async e=>(await t.default.delete("/StationeryRate/".concat(e)),e),onSuccess:t=>{e.setQueryData(["stationery"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>e._id!==t)})}})}}},48797,e=>{"use strict";e.s(["default",()=>u]);var t=e.i(43476),a=e.i(71645),r=e.i(38298),n=e.i(30955),s=e.i(5766),i=e.i(18552);let u=()=>{var e;let{allStationery:u,createStationery:l,updateStationery:d,deleteStationery:o}=(0,i.default)(),[c,y]=(0,a.useState)({_id:"",name:"",rateOnLessQuantity:"",quantityThreshold:"",rateOnGreaterQuantity:""}),[h,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!1);if((0,a.useEffect)(()=>x(!0),[]),!p)return null;let f=e=>{let{name:t,value:a}=e.target;y(e=>({...e,[t]:a}))},g=()=>y({_id:"",name:"",rateOnLessQuantity:"",quantityThreshold:"",rateOnGreaterQuantity:""});return(0,t.jsx)(r.default,{children:(0,t.jsxs)("div",{className:"p-6 bg-white rounded-2xl shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:h?"Edit Stationery Item":"Add Stationery Item"}),(0,t.jsxs)("form",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",onSubmit:e=>{e.preventDefault();let t={name:c.name,rateOnLessQuantity:Number(c.rateOnLessQuantity),quantityThreshold:Number(c.quantityThreshold),rateOnGreaterQuantity:Number(c.rateOnGreaterQuantity)};if(h){if(!c._id)return s.default.error("Invalid ID for update");d.mutate({_id:c._id,...t},{onSuccess:()=>{s.default.success("Item updated successfully!"),m(!1),g()},onError:()=>s.default.error("Failed to update item")})}else l.mutate(t,{onSuccess:()=>{s.default.success("Item added successfully!"),g()},onError:()=>s.default.error("Failed to add item")})},children:[(0,t.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:c.name,onChange:f,className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7a0706]",required:!0}),(0,t.jsx)("input",{type:"number",name:"rateOnLessQuantity",placeholder:"Rate on less quantity",value:c.rateOnLessQuantity,onChange:f,className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7a0706]",required:!0}),(0,t.jsx)("input",{type:"number",name:"quantityThreshold",placeholder:"Quantity Threshold",value:c.quantityThreshold,onChange:f,className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7a0706]",required:!0}),(0,t.jsx)("input",{type:"number",name:"rateOnGreaterQuantity",placeholder:"Rate on greater quantity",value:c.rateOnGreaterQuantity,onChange:f,className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7a0706]",required:!0}),(0,t.jsx)("button",{type:"submit",className:"col-span-1 md:col-span-4 bg-[#7a0706] text-white py-2 rounded-lg hover:bg-[#5a0505] transition",children:h?"Update Item":"Add Item"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-[700px] w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-secondary text-white",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Sr No."}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Name"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Rate (Less Qty)"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Quantity Threshold"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Rate (Greater Qty)"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null==(e=u.data)?void 0:e.map((e,a)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-2",children:a+1}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.name}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.rateOnLessQuantity}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.quantityThreshold}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.rateOnGreaterQuantity}),(0,t.jsxs)("td",{className:"px-4 py-2 flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>(e=>{y({_id:e._id,name:e.name,rateOnLessQuantity:e.rateOnLessQuantity.toString(),quantityThreshold:e.quantityThreshold.toString(),rateOnGreaterQuantity:e.rateOnGreaterQuantity.toString()}),m(!0)})(e),className:"p-2 bg-blue-500 cursor-pointer text-white rounded hover:bg-blue-600",children:(0,t.jsx)(n.FaEdit,{})}),(0,t.jsx)("button",{onClick:()=>(e=>{confirm("Are you sure you want to delete this item?")&&(o.mutate(e,{onSuccess:()=>s.default.success("Item deleted successfully!"),onError:()=>s.default.error("Failed to delete item")}),h&&c._id===e&&(g(),m(!1)))})(e._id),className:"p-2 bg-red-500 cursor-pointer text-white rounded hover:bg-red-600",children:(0,t.jsx)(n.FaTrash,{})})]})]},e._id))})]})})]})})}}]);