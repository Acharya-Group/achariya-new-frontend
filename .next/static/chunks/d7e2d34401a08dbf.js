(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12895,e=>{"use strict";e.s(["useTestimonials",()=>l]);var t=e.i(66027),a=e.i(54616),s=e.i(12598),i=e.i(63816);let l=()=>{let e=(0,s.useQueryClient)(),l=(0,t.useQuery)({queryKey:["testimonials"],queryFn:async()=>{let{data:e}=await i.default.get("/Testimonial");return e.testimonials}}),n=(0,a.useMutation)({mutationFn:async e=>{let{data:t}=await i.default.post("/Testimonial",e,{headers:{"Content-Type":"multipart/form-data"}});return t},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials"]})}});return{allTestimonials:l,createTestimonial:n,updateTestimonial:(0,a.useMutation)({mutationFn:async e=>{let{id:t,formData:a}=e,{data:s}=await i.default.put("/Testimonial/".concat(t),a,{headers:{"Content-Type":"multipart/form-data"}});return s},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials"]})}}),deleteTestimonial:(0,a.useMutation)({mutationFn:async e=>{await i.default.delete("/Testimonial/".concat(e))},onSuccess:()=>{e.invalidateQueries({queryKey:["testimonials"]})}})}}},70017,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476),a=e.i(71645),s=e.i(38298),i=e.i(57688),l=e.i(5766),n=e.i(12895);let r=()=>{let[e,r]=(0,a.useState)(""),[o,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(null),[c,p]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1),{createTestimonial:f}=(0,n.useTestimonials)();return(0,t.jsx)(s.default,{children:(0,t.jsxs)("div",{className:"mx-auto bg-white p-6 rounded-2xl shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add Testimonial"}),(0,t.jsxs)("form",{className:"space-y-5",onSubmit:t=>{if(t.preventDefault(),!e||!o||!u)return void l.default.error("All fields including image are required!");g(!0);let a=new FormData;a.append("name",e),a.append("description",o),a.append("Image",u),f.mutate(a,{onSuccess:()=>{l.default.success("Testimonial added successfully!"),r(""),d(""),m(null),p(null),g(!1)},onError:e=>{l.default.error((null==e?void 0:e.message)||"Failed to add testimonial!"),g(!1)}})},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:"Enter name",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706] hover:border-[#7a0706] transition",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{rows:4,value:o,onChange:e=>d(e.target.value),placeholder:"Enter description",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706] hover:border-[#7a0706] transition",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Image"}),(0,t.jsx)("input",{id:"testimonialFileInput",type:"file",accept:"image/*",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){m(a);let e=new FileReader;e.onloadend=()=>{"string"==typeof e.result&&p(e.result)},e.readAsDataURL(a)}else m(null),p(null)},className:"hidden",required:!0}),(0,t.jsx)("label",{htmlFor:"testimonialFileInput",className:"inline-block px-4 py-2 bg-[#7a0706] text-white rounded-lg cursor-pointer shadow-md hover:bg-[#5a0505] transition",children:u?"Change Image":"Choose Image"}),c&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Preview:"}),(0,t.jsx)(i.default,{src:c,alt:"Selected Preview",width:160,height:160,className:"w-40 h-40 object-cover rounded-lg border shadow-sm"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"w-full ".concat(h?"bg-primary":"bg-secondary"," text-white py-3 px-4 cursor-pointer rounded-lg hover:bg-primary shadow-md transition transform font-medium"),children:h?"Adding...":"Add Testimonial"})]})]})})}}]);