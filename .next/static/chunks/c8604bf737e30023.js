(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62665,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(63816),r=e.i(66027),a=e.i(54616),s=e.i(12598);let n=()=>{let e=(0,s.useQueryClient)(),n=(0,r.useQuery)({queryKey:["reference"],queryFn:async()=>{let{data:e}=await t.default.get("/Reference");return Array.isArray(e.data)?e.data:[]},initialData:[]}),u=(0,a.useMutation)({mutationFn:async e=>{let{data:r}=await t.default.post("/Reference",e);return r.data},onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,t]})}});return{allReference:n,createReference:u,updateReference:(0,a.useMutation)({mutationFn:async e=>{let{data:r}=await t.default.put("/Reference/".concat(e._id),e);return r.data},onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>e._id===t._id?t:e)})}}),deleteReference:(0,a.useMutation)({mutationFn:async e=>(await t.default.delete("/Reference/".concat(e)),e),onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>e._id!==t)})}})}}},81456,e=>{"use strict";e.s(["default",()=>u]);var t=e.i(43476),r=e.i(71645),a=e.i(38298),s=e.i(62665),n=e.i(5766);let u=()=>{let[e,u]=(0,r.useState)({referenceNo:"",date:"",issuedTo:"",issuedBy:"",subject:""}),{createReference:c}=(0,s.default)(),d=t=>{u({...e,[t.target.name]:t.target.value})};return(0,t.jsx)(a.default,{children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md mx-auto mt-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Add Reference"}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:t=>{if(t.preventDefault(),!e.referenceNo||!e.date||!e.issuedTo||!e.issuedBy||!e.subject)return n.default.error("Please fill in all required fields!");c.mutate(e,{onSuccess:()=>{n.default.success("Reference added successfully!"),u({referenceNo:"",date:"",issuedTo:"",issuedBy:"",subject:""})},onError:e=>{n.default.error("Failed to add reference!"),console.error(e)}})},children:[["referenceNo","date","issuedTo","issuedBy"].map(r=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"referenceNo"===r?"Reference No.":r.charAt(0).toUpperCase()+r.slice(1)}),(0,t.jsx)("input",{type:"date"===r?"date":"text",name:r,value:e[r],onChange:d,placeholder:"Enter ".concat(r),className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706]",required:!0})]},r)),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,t.jsx)("textarea",{name:"subject",value:e.subject,onChange:d,rows:3,placeholder:"Enter subject",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706]",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:"pending"===c.status,className:"w-full px-4 py-2 bg-secondary text-white rounded-lg hover:bg-primary cursor-pointer transition ".concat("pending"===c.status?"opacity-50 cursor-not-allowed":""),children:"pending"===c.status?"Saving...":"Add Reference"})]})]})})}}]);