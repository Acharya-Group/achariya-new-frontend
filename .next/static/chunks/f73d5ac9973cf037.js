(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94579,e=>{"use strict";e.s(["useBlogs",()=>o]);var t=e.i(66027),l=e.i(54616),r=e.i(12598),a=e.i(63816);let o=()=>{let e=(0,r.useQueryClient)(),o=(0,t.useQuery)({queryKey:["blogs"],queryFn:async()=>{let{data:e}=await a.default.get("/blogs");return e.blogs}}),n=(0,l.useMutation)({mutationFn:async e=>{let{data:t}=await a.default.post("/blogs",e,{headers:{"Content-Type":"multipart/form-data"}});return t},onSuccess:()=>{e.invalidateQueries({queryKey:["blogs"]})}});return{allBlogs:o,createBlog:n,updateBlog:(0,l.useMutation)({mutationFn:async e=>{let{id:t,formData:l}=e,{data:r}=await a.default.put("/blogs/".concat(t),l,{headers:{"Content-Type":"multipart/form-data"}});return r},onSuccess:()=>{e.invalidateQueries({queryKey:["blogs"]})}}),deleteBlog:(0,l.useMutation)({mutationFn:async e=>{await a.default.delete("/blogs/".concat(e))},onSuccess:()=>{e.invalidateQueries({queryKey:["blogs"]})}})}}},67585,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=e.r(32061);function a(e){let{reason:t,children:l}=e;if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return l}},9885,(e,t,l)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"PreloadChunks",{enumerable:!0,get:function(){return s}});let r=e.r(43476),a=e.r(74080),o=e.r(63599),n=e.r(9885);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let l=o.workAsyncStorage.getStore();if(void 0===l)return null;let s=[];if(l.reactLoadableManifest&&t){let e=l.reactLoadableManifest;for(let l of t){if(!e[l])continue;let t=e[l].files;s.push(...t)}}return 0===s.length?null:(0,r.jsx)(r.Fragment,{children:s.map(e=>{let t=l.assetPrefix+"/_next/"+(0,n.encodeURIPath)(e);return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,a.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},69093,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return u}});let r=e.r(43476),a=e.r(71645),o=e.r(67585),n=e.r(52157);function s(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},u=function(e){let t={...i,...e},l=(0,a.lazy)(()=>t.loader().then(s)),u=t.loading;function d(e){let s=u?(0,r.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,d=i?a.Suspense:a.Fragment,c=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(l,{...e})]}):(0,r.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(l,{...e})});return(0,r.jsx)(d,{...i?{fallback:s}:{},children:c})}return d.displayName="LoadableComponent",d}},70703,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"default",{enumerable:!0,get:function(){return a}});let r=e.r(55682)._(e.r(69093));function a(e,t){var l;let a={};"function"==typeof e&&(a.loader=e);let o={...a,...t};return(0,r.default)({...o,modules:null==(l=o.loadableGenerated)?void 0:l.modules})}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),t.exports=l.default)},7153,e=>{"use strict";e.s(["default",()=>m]);var t=e.i(43476),l=e.i(71645),r=e.i(18566),a=e.i(70703),o=e.i(38298),n=e.i(5766),s=e.i(94579),i=e.i(81949),u=e.i(57688);let d=(0,a.default)(()=>e.A(32494),{loadableGenerated:{modules:[13441]},ssr:!1}),c={toolbar:[[{header:[1,2,3,4,5,!1]}],["bold","italic","underline"],[{color:[]},{background:[]}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{size:["small",!1,"large","huge"]}],["link","image"]]},f=["header","bold","italic","underline","color","background","blockquote","code-block","list","align","size","link","image"],m=()=>{let e=(0,r.useRouter)(),a=(0,r.useParams)(),m=Array.isArray(a.id)?a.id[0]:a.id,{updateBlog:b}=(0,s.useBlogs)(),[p,g]=(0,l.useState)(""),[h,y]=(0,l.useState)(""),[x,j]=(0,l.useState)(""),[v,w]=(0,l.useState)(null),[P,S]=(0,l.useState)(null),[_,k]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{m&&(async()=>{try{let{data:e}=await i.default.get("".concat("http://localhost:8006/api/v1","/blogs/").concat(m));g(e.blog.title),y(e.blog.shortDescription),j(e.blog.description),S(e.blog.image)}catch(l){var e,t;n.default.error((null==l||null==(t=l.response)||null==(e=t.data)?void 0:e.message)||"Failed to load blog!")}})()},[m]),(0,t.jsx)(o.default,{children:(0,t.jsxs)("div",{className:"mx-auto bg-white p-6 rounded-2xl shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Update Blog Post"}),(0,t.jsxs)("form",{className:"space-y-5",onSubmit:t=>{if(t.preventDefault(),!m)return void n.default.error("Blog ID not found!");if(!p||!h||!x)return void n.default.error("Please fill all required fields!");k(!0);let l=new FormData;l.append("title",p),l.append("shortDescription",h),l.append("description",x),v&&l.append("image",v),b.mutate({id:m,formData:l},{onSuccess:()=>{n.default.success("Blog updated successfully!"),k(!1),e.push("/admin/all-blog")},onError:e=>{var t,l;n.default.error((null==e||null==(l=e.response)||null==(t=l.data)?void 0:t.message)||"Failed to update blog!"),k(!1)}})},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Enter blog title",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706] hover:border-[#7a0706] transition",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>y(e.target.value),placeholder:"Enter a brief summary",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706] hover:border-[#7a0706] transition",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)(d,{theme:"snow",value:x,onChange:j,modules:c,formats:f,placeholder:"Write your full blog description here...",className:"h-60"})]}),(0,t.jsxs)("div",{className:"mt-24 lg:mt-20",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Featured Image"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let l=null==(t=e.target.files)?void 0:t[0];if(l){w(l);let e=new FileReader;e.onloadend=()=>S(e.result),e.readAsDataURL(l)}},className:"w-full px-4 py-2 border rounded-lg shadow-sm cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706] hover:border-[#7a0706] transition"}),P&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Preview:"}),(0,t.jsx)(u.default,{height:160,width:160,src:P,alt:"Selected Preview",className:"w-40 h-40 object-cover rounded-lg border shadow-sm"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:_,className:"w-full ".concat(_?"bg-primary cursor-not-allowed":"bg-secondary"," text-white py-3 px-4 rounded-lg shadow-md transition transform hover:bg-primary cursor-pointer font-medium"),children:_?"Updating...":"Update Blog Post"})]})]})})}},32494,e=>{e.v(t=>Promise.all(["static/chunks/f3b26f0be2858112.js","static/chunks/7e05aaf2effecc05.js"].map(t=>e.l(t))).then(()=>t(13441)))}]);