(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62665,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(63816),s=e.i(66027),r=e.i(54616),a=e.i(12598);let n=()=>{let e=(0,a.useQueryClient)(),n=(0,s.useQuery)({queryKey:["reference"],queryFn:async()=>{let{data:e}=await t.default.get("/Reference");return Array.isArray(e.data)?e.data:[]},initialData:[]}),u=(0,r.useMutation)({mutationFn:async e=>{let{data:s}=await t.default.post("/Reference",e);return s.data},onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,t]})}});return{allReference:n,createReference:u,updateReference:(0,r.useMutation)({mutationFn:async e=>{let{data:s}=await t.default.put("/Reference/".concat(e._id),e);return s.data},onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>e._id===t._id?t:e)})}}),deleteReference:(0,r.useMutation)({mutationFn:async e=>(await t.default.delete("/Reference/".concat(e)),e),onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>e._id!==t)})}})}}},4529,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(38298),n=e.i(62665),u=e.i(5766);let o=()=>{let e=(0,r.useRouter)(),{id:o}=(0,r.useParams)(),{allReference:d,updateReference:l}=(0,n.default)(),[c,i]=(0,s.useState)({referenceNo:"",date:"",issuedTo:"",issuedBy:"",subject:""});(0,s.useEffect)(()=>{var e;let t=null==(e=d.data)?void 0:e.find(e=>e._id===o);t&&i({referenceNo:t.referenceNo,date:t.date,issuedTo:t.issuedTo,issuedBy:t.issuedBy,subject:t.subject})},[d.data,o]);let f=e=>{i({...c,[e.target.name]:e.target.value})};return(0,t.jsx)(a.default,{children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md mx-auto mt-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Update Reference"}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:t=>{t.preventDefault(),l.mutate({_id:o,...c},{onSuccess:()=>{u.default.success("Reference updated successfully!"),e.push("/admin/all-reference")},onError:()=>{u.default.error("Failed to update reference!")}})},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference No."}),(0,t.jsx)("input",{type:"text",name:"referenceNo",value:c.referenceNo,onChange:f,placeholder:"Enter reference number",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706]",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),(0,t.jsx)("input",{type:"date",name:"date",value:c.date,onChange:f,className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706]",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issued To"}),(0,t.jsx)("input",{type:"text",name:"issuedTo",value:c.issuedTo,onChange:f,placeholder:"Enter recipient",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706]",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issued By"}),(0,t.jsx)("input",{type:"text",name:"issuedBy",value:c.issuedBy,onChange:f,placeholder:"Enter issuer",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706]",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,t.jsx)("textarea",{name:"subject",value:c.subject,onChange:f,rows:3,placeholder:"Enter subject",className:"w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706]",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:"pending"===l.status,className:"w-full px-4 py-2 bg-secondary text-white rounded-lg hover:bg-primary cursor-pointer transition ".concat("pending"===l.status?"opacity-50 cursor-not-allowed":""),children:"pending"===l.status?"Saving...":"Update Reference"})]})]})})}}]);