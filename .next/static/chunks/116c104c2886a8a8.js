(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,e=>{"use strict";function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}e.s(["_",()=>t])},10160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},62665,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(63816),s=e.i(66027),a=e.i(54616),r=e.i(12598);let n=()=>{let e=(0,r.useQueryClient)(),n=(0,s.useQuery)({queryKey:["reference"],queryFn:async()=>{let{data:e}=await t.default.get("/Reference");return Array.isArray(e.data)?e.data:[]},initialData:[]}),i=(0,a.useMutation)({mutationFn:async e=>{let{data:s}=await t.default.post("/Reference",e);return s.data},onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,t]})}});return{allReference:n,createReference:i,updateReference:(0,a.useMutation)({mutationFn:async e=>{let{data:s}=await t.default.put("/Reference/".concat(e._id),e);return s.data},onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>e._id===t._id?t:e)})}}),deleteReference:(0,a.useMutation)({mutationFn:async e=>(await t.default.delete("/Reference/".concat(e)),e),onSuccess:t=>{e.setQueryData(["reference"],function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>e._id!==t)})}})}}},42297,e=>{"use strict";e.s(["default",()=>u]);var t=e.i(43476),s=e.i(71645),a=e.i(38298),r=e.i(80790),n=e.i(55749),i=e.i(45700),l=e.i(30955),c=e.i(22016),d=e.i(62665),o=e.i(5766);let u=()=>{let{allReference:e,deleteReference:u}=(0,d.default)(),[x,f]=(0,s.useState)(!1),[p,h]=(0,s.useState)(1);if((0,s.useEffect)(()=>f(!0),[]),!x)return null;let y=e.data||[],m=5*p,b=m-5,j=y.slice(b,m),g=Math.ceil(y.length/5);return(0,t.jsx)(a.default,{children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"All References"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(y)),o.default.success("Copied to clipboard!")},className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:"Copy"}),(0,t.jsx)(r.CSVLink,{data:y,filename:"references.csv",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:"CSV"}),(0,t.jsx)("button",{onClick:()=>{let e=new n.default;e.text("Reference List",14,16);let t=y.map(e=>[e.referenceNo,e.date,e.issuedTo,e.issuedBy,e.subject]);(0,i.default)(e,{head:[["Reference No","Date","Issued To","Issued By","Subject"]],body:t,startY:20}),e.save("references.pdf")},className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:"PDF"}),(0,t.jsx)("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300 transition",children:"Print"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-[800px] w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-secondary text-white",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Sr no."}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Reference No"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Issued To"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Issued By"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Subject"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-2",children:b+s+1}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.referenceNo}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.date}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.issuedTo}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.issuedBy}),(0,t.jsx)("td",{className:"px-4 py-2 max-w-[200px]",children:(0,t.jsx)("div",{className:"max-h-[100px] overflow-y-auto whitespace-pre-line",children:e.subject})}),(0,t.jsxs)("td",{className:"px-4 py-2 flex gap-2",children:[(0,t.jsx)(c.default,{href:"/admin/update-reference/".concat(e._id),children:(0,t.jsx)("button",{className:"p-2 bg-blue-500 cursor-pointer text-white rounded hover:bg-blue-600",children:(0,t.jsx)(l.FaEdit,{})})}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e._id,void(confirm("Are you sure to delete this reference?")&&u.mutate(t,{onSuccess:()=>o.default.success("Reference deleted!"),onError:()=>o.default.error("Failed to delete reference!")}))},className:"p-2 bg-red-500 text-white rounded hover:bg-red-600",children:(0,t.jsx)(l.FaTrash,{})})]})]},e._id))})]})}),(0,t.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-4",children:[(0,t.jsx)("button",{disabled:1===p,onClick:()=>h(e=>e-1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Prev"}),(0,t.jsxs)("span",{children:["Page ",p," of ",g]}),(0,t.jsx)("button",{disabled:p===g,onClick:()=>h(e=>e+1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Next"})]})]})})}},48503,e=>{e.v(t=>Promise.all(["static/chunks/973cd2e0d44fcf4d.js"].map(t=>e.l(t))).then(()=>t(15833)))},70653,e=>{e.v(t=>Promise.all(["static/chunks/c1eb2087dd9024e6.js"].map(t=>e.l(t))).then(()=>t(24154)))},95111,e=>{e.v(t=>Promise.all(["static/chunks/5f9918d1ea162d49.js"].map(t=>e.l(t))).then(()=>t(38201)))}]);