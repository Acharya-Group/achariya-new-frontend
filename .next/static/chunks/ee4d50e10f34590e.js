(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53183,e=>{"use strict";e.s(["useSlider",()=>a]);var t=e.i(54616),s=e.i(66027),l=e.i(12598),r=e.i(63816);let a=()=>{let e=(0,l.useQueryClient)(),a=(0,s.useQuery)({queryKey:["sliders"],queryFn:async()=>{let{data:e}=await r.default.get("/slider");return e.sliders}}),i=(0,t.useMutation)({mutationFn:e=>{let{image:t,link:s}=e,l=new FormData;return l.append("image",t),l.append("link",s),r.default.post("/slider",l,{headers:{"Content-Type":"multipart/form-data"}})},onSuccess:()=>e.invalidateQueries({queryKey:["sliders"]})});return{allSliders:a,addSlider:i,deleteSlider:(0,t.useMutation)({mutationFn:e=>r.default.delete("/slider/".concat(e)),onSuccess:()=>e.invalidateQueries({queryKey:["sliders"]})}),updateSlider:(0,t.useMutation)({mutationFn:e=>{let{id:t,image:s,link:l}=e,a=new FormData;return s&&a.append("image",s),a.append("link",l),r.default.put("/slider/".concat(t),a,{headers:{"Content-Type":"multipart/form-data"}})},onSuccess:()=>e.invalidateQueries({queryKey:["sliders"]})})}}},87186,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),s=e.i(71645),l=e.i(38298),r=e.i(30955),a=e.i(57688),i=e.i(5766),d=e.i(53183);let n=()=>{var e;let{allSliders:n,deleteSlider:c,updateSlider:u}=(0,d.useSlider)(),[o,p]=(0,s.useState)(!1),[x,h]=(0,s.useState)(1),[m,y]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),[g,j]=(0,s.useState)(null),[v,N]=(0,s.useState)("");if((0,s.useEffect)(()=>p(!0),[]),!o)return null;if(n.isLoading)return(0,t.jsx)(l.default,{children:(0,t.jsx)("p",{className:"text-center mt-4",children:"Loading sliders..."})});if(n.isError)return(0,t.jsx)(l.default,{children:(0,t.jsxs)("p",{className:"text-center mt-4 text-red-500",children:["Error: ",null==(e=n.error)?void 0:e.message]})});let w=n.data||[],S=4*x,k=S-4,C=w.slice(k,S),F=Math.ceil(w.length/4);return(0,t.jsx)(l.default,{children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"All Slides"}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"min-w-[200px] w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-secondary text-white",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Sr no."}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Link"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Image"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-2",children:k+s+1}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.link}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)(a.default,{height:64,width:96,src:e.image,alt:"Slide ".concat(e._id),className:"w-24 h-16 object-cover rounded"})}),(0,t.jsxs)("td",{className:"px-4 py-2 flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>(e=>{y(e),f(e.image),j(null),N(e.link)})(e),className:"p-2 bg-blue-500 cursor-pointer text-white rounded hover:bg-blue-600",children:(0,t.jsx)(r.FaEdit,{})}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e._id,void(confirm("Are you sure you want to delete this slide?")&&c.mutate(t,{onSuccess:()=>i.default.success("Slider deleted successfully!"),onError:()=>i.default.error("Failed to delete slider!")}))},className:"p-2 cursor-pointer bg-red-500 text-white rounded hover:bg-red-600",children:(0,t.jsx)(r.FaTrash,{})})]})]},e._id))})]}),(0,t.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-4",children:[(0,t.jsx)("button",{disabled:1===x,onClick:()=>h(e=>e-1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Prev"}),(0,t.jsxs)("span",{children:["Page ",x," of ",F]}),(0,t.jsx)("button",{disabled:x===F,onClick:()=>h(e=>e+1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Next"})]})]}),m&&(0,t.jsx)("div",{className:"fixed inset-0 backdrop-blur-3xl bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white border border-blue-900 p-6 rounded-xl w-96 relative",children:[(0,t.jsx)("button",{onClick:()=>y(null),className:"absolute top-2 right-2 text-gray-500 cursor-pointer hover:animate-spin hover:text-gray-800",children:(0,t.jsx)(r.FaTimes,{})}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Update Slider"}),(0,t.jsx)("input",{type:"file",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&(j(s),f(URL.createObjectURL(s)))},className:"mb-4"}),(0,t.jsx)("input",{type:"text",value:v,onChange:e=>N(e.target.value),placeholder:"Enter link",className:"w-full border px-3 py-2 rounded mb-4"}),b&&(0,t.jsx)(a.default,{height:160,width:160,src:b,alt:"Preview",className:"w-full h-40 object-cover rounded mb-4"}),(0,t.jsx)("button",{onClick:()=>m?v.trim()?void u.mutate({id:m._id,image:g||void 0,link:v},{onSuccess:()=>{i.default.success("Slider updated successfully!"),y(null),j(null),f(null),N("")},onError:()=>i.default.error("Failed to update slider!")}):i.default.error("Link cannot be empty!"):i.default.error("No slider selected!"),disabled:"pending"===u.status,className:"px-4 py-2 cursor-pointer bg-secondary text-white rounded hover:bg-primary ".concat("pending"===u.status?"opacity-50 cursor-not-allowed":""),children:"pending"===u.status?"Updating...":"Update"})]})})]})})}}]);