(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31819,e=>{"use strict";e.s(["usePopup",()=>i]);var t=e.i(54616),a=e.i(66027),l=e.i(12598),s=e.i(63816);let i=()=>{let e=(0,l.useQueryClient)(),i=(0,a.useQuery)({queryKey:["popups"],queryFn:async()=>{let{data:e}=await s.default.get("/Popup");return e.popups}}),u=(0,t.useMutation)({mutationFn:async e=>{let{image:t,link:a}=e,l=new FormData;l.append("image",t),l.append("link",a),await s.default.post("/Popup",l,{headers:{"Content-Type":"multipart/form-data"}})},onSuccess:()=>{e.invalidateQueries({queryKey:["popups"]})}});return{allPopups:i,addPopup:u,deletePopup:(0,t.useMutation)({mutationFn:async e=>{await s.default.delete("/Popup/".concat(e))},onSuccess:()=>{e.invalidateQueries({queryKey:["popups"]})}}),updatePopup:(0,t.useMutation)({mutationFn:async e=>{let{id:t,image:a,link:l}=e,i=new FormData;a&&i.append("image",a),i.append("link",l),await s.default.put("/Popup/".concat(t),i,{headers:{"Content-Type":"multipart/form-data"}})},onSuccess:()=>{e.invalidateQueries({queryKey:["popups"]})}})}}},44499,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476),a=e.i(71645),l=e.i(38298),s=e.i(5766),i=e.i(31819),u=e.i(57688);let r=()=>{let{addPopup:e}=(0,i.usePopup)(),[r,n]=(0,a.useState)(null),[o,d]=(0,a.useState)(""),[p,c]=(0,a.useState)(null),[m,f]=(0,a.useState)(!1);return(0,t.jsx)(l.default,{children:(0,t.jsxs)("div",{className:"mx-auto bg-white p-6 rounded-2xl shadow-md",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Add Popup Image"}),(0,t.jsxs)("form",{className:"space-y-5",onSubmit:t=>(t.preventDefault(),r)?o?void(f(!0),e.mutate({image:r,link:o},{onSuccess:()=>{s.default.success("Popup added successfully!"),n(null),d(""),c(null),f(!1)},onError:()=>{s.default.error("Failed to add Popup!"),f(!1)}})):s.default.error("Please enter a link!"):s.default.error("Please select an image!"),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"Enter Link",className:"w-full px-4 py-2 border rounded-lg shadow-sm  focus:outline-none focus:ring-2 focus:ring-[#7a0706] focus:border-[#7a0706] hover:border-[#7a0706] transition"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Image"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=(null==(t=e.target.files)?void 0:t[0])||null;n(a),a?c(URL.createObjectURL(a)):c(null)},className:"w-full text-gray-700 cursor-pointer  file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-[#7a0706] file:text-white hover:file:bg-[#261b7d] transition",required:!0})]}),p&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),(0,t.jsx)(u.default,{height:150,width:150,src:p,alt:"Preview",className:"max-h-64 object-contain rounded-lg border"})]}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-secondary text-white py-2 px-4 rounded-lg \n              shadow-md hover:bg-primary cursor-pointer transition transform hover:scale-[1.02] disabled:opacity-50",children:m?"Uploading...":"Submit"})]})]})})}}]);